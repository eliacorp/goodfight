!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/platform-browser"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("@gorniv/ngx-transfer-http",["exports","@angular/core","@angular/common/http","@angular/platform-browser","rxjs","rxjs/operators","@angular/common"],r):r((t.gorniv=t.gorniv||{},t.gorniv["ngx-transfer-http"]={}),t.ng.core,t.ng.common.http,t.ng.platformBrowser,t.rxjs,t.rxjs.operators,t.ng.common)}(this,function(t,r,e,f,o,c,h){"use strict";var n=function(){function t(t,r,e){this.transferState=t,this.httpClient=r,this.platformId=e}return t.prototype.request=function(t,r,e){var o=this;return this.getData(t,r,e,function(t,r,e){return o.httpClient.request(t,r,e)})},t.prototype.get=function(t,r){var o=this;return this.getData("get",t,r,function(t,r,e){return o.httpClient.get(r,e)})},t.prototype.post=function(t,r,e){var n=this;return this.getPostData("post",t,r,e,function(t,r,e,o){return n.httpClient.post(r,e,o)})},t.prototype.put=function(t,r,e){var n=this;return this.getPostData("put",t,r,e,function(t,r,e,o){return n.httpClient.put(r,e,o)})},t.prototype["delete"]=function(t,r){var o=this;return this.getData("delete",t,r,function(t,r,e){return o.httpClient["delete"](r,e)})},t.prototype.patch=function(t,r,e){var n=this;return this.getPostData("patch",t,r,e,function(t,r,e,o){return n.httpClient.patch(r,e,o)})},t.prototype.head=function(t,r){var o=this;return this.getData("head",t,r,function(t,r,e){return o.httpClient.head(r,e)})},t.prototype.options=function(t,r){var o=this;return this.getData("options",t,r,function(t,r,e){return o.httpClient.options(r,e)})},t.prototype.getData=function(t,r,e,o){var n=this,a=r;"string"!=typeof r&&(a=r.url);var i=a+(e?JSON.stringify(e):""),s=f.makeStateKey(i);try{return this.resolveData(s)}catch(p){return o(t,r,e).pipe(c.tap(function(t){h.isPlatformBrowser(n.platformId),h.isPlatformServer(n.platformId)&&n.setCache(s,t)}))}},t.prototype.getPostData=function(t,r,e,o,n){var a=this,i=r;"string"!=typeof r&&(i=r.url);var s=i+(e?JSON.stringify(e):"")+(o?JSON.stringify(o):""),p=f.makeStateKey(s);try{return this.resolveData(p)}catch(u){return n(t,r,e,o).pipe(c.tap(function(t){h.isPlatformBrowser(a.platformId),h.isPlatformServer(a.platformId)&&a.setCache(p,t)}))}},t.prototype.resolveData=function(t){var r=this.getFromCache(t);if(!r)throw new Error;return h.isPlatformBrowser(this.platformId)&&this.transferState.remove(t),h.isPlatformServer(this.platformId),o.from(Promise.resolve(r))},t.prototype.setCache=function(t,r){return this.transferState.set(t,r)},t.prototype.getFromCache=function(t){return this.transferState.get(t,null)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:f.TransferState},{type:e.HttpClient},{type:Object,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]}]},t}(),a=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{providers:[n]}]}],t}();t.TransferHttpModule=a,t.TransferHttpService=n,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=gorniv-ngx-transfer-http.umd.min.js.map
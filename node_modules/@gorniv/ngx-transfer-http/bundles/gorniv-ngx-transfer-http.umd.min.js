!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/platform-browser"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("@gorniv/ngx-transfer-http",["exports","@angular/core","@angular/common/http","@angular/platform-browser","rxjs","rxjs/operators","@angular/common"],r):r((t.gorniv=t.gorniv||{},t.gorniv["ngx-transfer-http"]={}),t.ng.core,t.ng.common.http,t.ng.platformBrowser,t.rxjs,t.rxjs.operators,t.ng.common)}(this,function(t,r,e,n,o,u,f){"use strict";var a=function(){function t(t,r,e){this.transferState=t,this.httpClient=r,this.platformId=e}return t.prototype.request=function(t,r,e){var n=this;return this.getData(t,r,e,function(t,r,e){return n.httpClient.request(t,r,e)})},t.prototype.get=function(t,r){var n=this;return this.getData("get",t,r,function(t,r,e){return n.httpClient.get(r,e)})},t.prototype.post=function(t,r,e){var n=this;return this.getPostData("post",t,r,e,function(t,r,e){return n.httpClient.post(t,r,e)})},t.prototype.put=function(t,r,e){var n=this;return this.getData("put",t,e,function(t,r,e){return n.httpClient.put(r,e)})},t.prototype["delete"]=function(t,r){var n=this;return this.getData("delete",t,r,function(t,r,e){return n.httpClient["delete"](r,e)})},t.prototype.patch=function(t,r,e){var n=this;return this.getPostData("patch",t,r,e,function(t,r,e){return n.httpClient.patch(t,r,e)})},t.prototype.head=function(t,r){var n=this;return this.getData("head",t,r,function(t,r,e){return n.httpClient.head(r,e)})},t.prototype.options=function(t,r){var n=this;return this.getData("options",t,r,function(t,r,e){return n.httpClient.options(r,e)})},t.prototype.getData=function(t,r,e,n){var o=this,a=r;"string"!=typeof r&&(a=r.url);var i=a+(e?JSON.stringify(e):"");try{return this.resolveData(i)}catch(s){return n(t,r,e).pipe(u.tap(function(t){f.isPlatformBrowser(o.platformId),f.isPlatformServer(o.platformId)&&o.setCache(i,t)}))}},t.prototype.getPostData=function(t,r,e,n,o){var a=this,i=r;"string"!=typeof r&&(i=r.url);var s=i+(e?JSON.stringify(e):"")+(n?JSON.stringify(n):"");try{return this.resolveData(s)}catch(p){return o(r,e,n).pipe(u.tap(function(t){f.isPlatformBrowser(a.platformId),f.isPlatformServer(a.platformId)&&a.setCache(s,t)}))}},t.prototype.resolveData=function(t){var r=this.getFromCache(t);if(!r)throw new Error;return f.isPlatformBrowser(this.platformId)&&this.transferState.remove(t),f.isPlatformServer(this.platformId),o.from(Promise.resolve(r))},t.prototype.setCache=function(t,r){return this.transferState.set(t,r)},t.prototype.getFromCache=function(t){return this.transferState.get(t,null)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:n.TransferState},{type:e.HttpClient},{type:Object,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]}]},t}(),i=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{providers:[a]}]}],t}();t.TransferHttpModule=i,t.TransferHttpService=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=gorniv-ngx-transfer-http.umd.min.js.map